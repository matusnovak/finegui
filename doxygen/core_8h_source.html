<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>core.h File Reference | FineGui</title>
    <meta name="description" content="A simple graphical user interface that allows you to use your own rendering engine">
    
    <meta name="keywords" content="core.h file">
    <link rel="preload" href="/finegui/assets/css/0.styles.8f9f42bf.css" as="style"><link rel="preload" href="/finegui/assets/js/app.3e08543b.js" as="script"><link rel="preload" href="/finegui/assets/js/125.bb48e82f.js" as="script"><link rel="prefetch" href="/finegui/assets/js/10.f2b43712.js"><link rel="prefetch" href="/finegui/assets/js/100.b3fb5f38.js"><link rel="prefetch" href="/finegui/assets/js/101.996245cd.js"><link rel="prefetch" href="/finegui/assets/js/102.83687d3d.js"><link rel="prefetch" href="/finegui/assets/js/103.b5ef8757.js"><link rel="prefetch" href="/finegui/assets/js/104.a9ac2973.js"><link rel="prefetch" href="/finegui/assets/js/105.5448e2de.js"><link rel="prefetch" href="/finegui/assets/js/106.4261071c.js"><link rel="prefetch" href="/finegui/assets/js/107.e34fc1a0.js"><link rel="prefetch" href="/finegui/assets/js/108.990bab7c.js"><link rel="prefetch" href="/finegui/assets/js/109.15db87ed.js"><link rel="prefetch" href="/finegui/assets/js/11.9a0067cc.js"><link rel="prefetch" href="/finegui/assets/js/110.ca1b1328.js"><link rel="prefetch" href="/finegui/assets/js/111.4651b8b7.js"><link rel="prefetch" href="/finegui/assets/js/112.e24713a7.js"><link rel="prefetch" href="/finegui/assets/js/113.5d8e4c65.js"><link rel="prefetch" href="/finegui/assets/js/114.77e531b6.js"><link rel="prefetch" href="/finegui/assets/js/115.47dc95f8.js"><link rel="prefetch" href="/finegui/assets/js/116.4b438f9c.js"><link rel="prefetch" href="/finegui/assets/js/117.511808c3.js"><link rel="prefetch" href="/finegui/assets/js/118.1d4c5264.js"><link rel="prefetch" href="/finegui/assets/js/119.0240bf72.js"><link rel="prefetch" href="/finegui/assets/js/12.3517d0b7.js"><link rel="prefetch" href="/finegui/assets/js/120.3529dcbd.js"><link rel="prefetch" href="/finegui/assets/js/121.609e3571.js"><link rel="prefetch" href="/finegui/assets/js/122.400f7dc0.js"><link rel="prefetch" href="/finegui/assets/js/123.3097dbf3.js"><link rel="prefetch" href="/finegui/assets/js/124.4fab3df2.js"><link rel="prefetch" href="/finegui/assets/js/126.6844a2e5.js"><link rel="prefetch" href="/finegui/assets/js/127.4809f3f4.js"><link rel="prefetch" href="/finegui/assets/js/128.dbef1f19.js"><link rel="prefetch" href="/finegui/assets/js/129.3068a63f.js"><link rel="prefetch" href="/finegui/assets/js/13.90baf2f7.js"><link rel="prefetch" href="/finegui/assets/js/130.3a3814e8.js"><link rel="prefetch" href="/finegui/assets/js/131.b159c8c2.js"><link rel="prefetch" href="/finegui/assets/js/132.96080e14.js"><link rel="prefetch" href="/finegui/assets/js/133.9272afc5.js"><link rel="prefetch" href="/finegui/assets/js/134.7691f376.js"><link rel="prefetch" href="/finegui/assets/js/135.d3c06712.js"><link rel="prefetch" href="/finegui/assets/js/136.e59dc6c2.js"><link rel="prefetch" href="/finegui/assets/js/137.aa7b60d2.js"><link rel="prefetch" href="/finegui/assets/js/138.f612826e.js"><link rel="prefetch" href="/finegui/assets/js/139.806d43b9.js"><link rel="prefetch" href="/finegui/assets/js/14.87612975.js"><link rel="prefetch" href="/finegui/assets/js/140.b3a022c8.js"><link rel="prefetch" href="/finegui/assets/js/141.e3558b3b.js"><link rel="prefetch" href="/finegui/assets/js/142.287310c8.js"><link rel="prefetch" href="/finegui/assets/js/143.ac4f9ed5.js"><link rel="prefetch" href="/finegui/assets/js/144.81776dd5.js"><link rel="prefetch" href="/finegui/assets/js/145.be148ff7.js"><link rel="prefetch" href="/finegui/assets/js/146.bc98e8e1.js"><link rel="prefetch" href="/finegui/assets/js/147.3b8363df.js"><link rel="prefetch" href="/finegui/assets/js/148.eee968ba.js"><link rel="prefetch" href="/finegui/assets/js/149.84725dc4.js"><link rel="prefetch" href="/finegui/assets/js/15.14104dc6.js"><link rel="prefetch" href="/finegui/assets/js/150.effa2794.js"><link rel="prefetch" href="/finegui/assets/js/151.49e7f2d0.js"><link rel="prefetch" href="/finegui/assets/js/152.2e2ea9be.js"><link rel="prefetch" href="/finegui/assets/js/153.d50c8efd.js"><link rel="prefetch" href="/finegui/assets/js/154.50915825.js"><link rel="prefetch" href="/finegui/assets/js/155.274d69e2.js"><link rel="prefetch" href="/finegui/assets/js/156.8a7a9202.js"><link rel="prefetch" href="/finegui/assets/js/157.cb7fa964.js"><link rel="prefetch" href="/finegui/assets/js/158.94d06cc1.js"><link rel="prefetch" href="/finegui/assets/js/159.9afb3056.js"><link rel="prefetch" href="/finegui/assets/js/16.746e8886.js"><link rel="prefetch" href="/finegui/assets/js/160.65cab18c.js"><link rel="prefetch" href="/finegui/assets/js/161.82af5083.js"><link rel="prefetch" href="/finegui/assets/js/162.70724438.js"><link rel="prefetch" href="/finegui/assets/js/163.4ad694bd.js"><link rel="prefetch" href="/finegui/assets/js/164.8db9c5c9.js"><link rel="prefetch" href="/finegui/assets/js/165.31023ede.js"><link rel="prefetch" href="/finegui/assets/js/166.2f6bf494.js"><link rel="prefetch" href="/finegui/assets/js/167.a85cd85d.js"><link rel="prefetch" href="/finegui/assets/js/168.c5e8ab22.js"><link rel="prefetch" href="/finegui/assets/js/169.c82352cf.js"><link rel="prefetch" href="/finegui/assets/js/17.8dacd3a0.js"><link rel="prefetch" href="/finegui/assets/js/170.5855e1e3.js"><link rel="prefetch" href="/finegui/assets/js/171.5096cd7d.js"><link rel="prefetch" href="/finegui/assets/js/172.ae85b067.js"><link rel="prefetch" href="/finegui/assets/js/173.409e82f8.js"><link rel="prefetch" href="/finegui/assets/js/174.e0830d8d.js"><link rel="prefetch" href="/finegui/assets/js/175.f0e535c2.js"><link rel="prefetch" href="/finegui/assets/js/176.cf2f510e.js"><link rel="prefetch" href="/finegui/assets/js/177.8bd76c9a.js"><link rel="prefetch" href="/finegui/assets/js/178.387606d9.js"><link rel="prefetch" href="/finegui/assets/js/179.0b65045a.js"><link rel="prefetch" href="/finegui/assets/js/18.b6697a0d.js"><link rel="prefetch" href="/finegui/assets/js/180.cb14e71d.js"><link rel="prefetch" href="/finegui/assets/js/181.e8ee6e64.js"><link rel="prefetch" href="/finegui/assets/js/182.fb65dea1.js"><link rel="prefetch" href="/finegui/assets/js/183.3ede84fa.js"><link rel="prefetch" href="/finegui/assets/js/184.fe0b44f3.js"><link rel="prefetch" href="/finegui/assets/js/185.90f2c505.js"><link rel="prefetch" href="/finegui/assets/js/186.670f49e8.js"><link rel="prefetch" href="/finegui/assets/js/187.ca2eec10.js"><link rel="prefetch" href="/finegui/assets/js/188.bd4d6499.js"><link rel="prefetch" href="/finegui/assets/js/189.466fe167.js"><link rel="prefetch" href="/finegui/assets/js/19.8e3b1ca0.js"><link rel="prefetch" href="/finegui/assets/js/190.0498ad96.js"><link rel="prefetch" href="/finegui/assets/js/191.6bae8286.js"><link rel="prefetch" href="/finegui/assets/js/192.1db65725.js"><link rel="prefetch" href="/finegui/assets/js/193.afe8290d.js"><link rel="prefetch" href="/finegui/assets/js/194.c4baf985.js"><link rel="prefetch" href="/finegui/assets/js/195.745f0b93.js"><link rel="prefetch" href="/finegui/assets/js/196.dd858565.js"><link rel="prefetch" href="/finegui/assets/js/197.847f4378.js"><link rel="prefetch" href="/finegui/assets/js/198.94555efd.js"><link rel="prefetch" href="/finegui/assets/js/199.0ccf8577.js"><link rel="prefetch" href="/finegui/assets/js/2.f797f101.js"><link rel="prefetch" href="/finegui/assets/js/20.32730d77.js"><link rel="prefetch" href="/finegui/assets/js/200.de70e1c5.js"><link rel="prefetch" href="/finegui/assets/js/201.57626015.js"><link rel="prefetch" href="/finegui/assets/js/202.27813b95.js"><link rel="prefetch" href="/finegui/assets/js/203.36a80504.js"><link rel="prefetch" href="/finegui/assets/js/204.e49d25ad.js"><link rel="prefetch" href="/finegui/assets/js/205.cb296008.js"><link rel="prefetch" href="/finegui/assets/js/206.ce728977.js"><link rel="prefetch" href="/finegui/assets/js/207.aa9dd486.js"><link rel="prefetch" href="/finegui/assets/js/208.02efb644.js"><link rel="prefetch" href="/finegui/assets/js/209.a66fafa5.js"><link rel="prefetch" href="/finegui/assets/js/21.2499d3ce.js"><link rel="prefetch" href="/finegui/assets/js/210.973e3c5f.js"><link rel="prefetch" href="/finegui/assets/js/211.84932e2f.js"><link rel="prefetch" href="/finegui/assets/js/212.54f71f07.js"><link rel="prefetch" href="/finegui/assets/js/213.9637a562.js"><link rel="prefetch" href="/finegui/assets/js/214.b63480e2.js"><link rel="prefetch" href="/finegui/assets/js/215.ac291d4e.js"><link rel="prefetch" href="/finegui/assets/js/216.e9dc86ce.js"><link rel="prefetch" href="/finegui/assets/js/217.86950e64.js"><link rel="prefetch" href="/finegui/assets/js/218.0797c967.js"><link rel="prefetch" href="/finegui/assets/js/219.18a0e804.js"><link rel="prefetch" href="/finegui/assets/js/22.beadf87e.js"><link rel="prefetch" href="/finegui/assets/js/220.38031964.js"><link rel="prefetch" href="/finegui/assets/js/221.8a658e49.js"><link rel="prefetch" href="/finegui/assets/js/222.db790df7.js"><link rel="prefetch" href="/finegui/assets/js/223.31340de1.js"><link rel="prefetch" href="/finegui/assets/js/224.3f61574a.js"><link rel="prefetch" href="/finegui/assets/js/225.bc633632.js"><link rel="prefetch" href="/finegui/assets/js/226.226798f7.js"><link rel="prefetch" href="/finegui/assets/js/227.9e8e5818.js"><link rel="prefetch" href="/finegui/assets/js/228.e1449843.js"><link rel="prefetch" href="/finegui/assets/js/229.f94b56f2.js"><link rel="prefetch" href="/finegui/assets/js/23.2773ab45.js"><link rel="prefetch" href="/finegui/assets/js/230.fec3cee2.js"><link rel="prefetch" href="/finegui/assets/js/231.b8de7219.js"><link rel="prefetch" href="/finegui/assets/js/232.9ce00ccb.js"><link rel="prefetch" href="/finegui/assets/js/233.402c2d27.js"><link rel="prefetch" href="/finegui/assets/js/234.55a4c3fa.js"><link rel="prefetch" href="/finegui/assets/js/235.cb66c4bc.js"><link rel="prefetch" href="/finegui/assets/js/236.30c151b1.js"><link rel="prefetch" href="/finegui/assets/js/237.a48bb447.js"><link rel="prefetch" href="/finegui/assets/js/238.1ea201ab.js"><link rel="prefetch" href="/finegui/assets/js/239.e7afe666.js"><link rel="prefetch" href="/finegui/assets/js/24.f6fe0150.js"><link rel="prefetch" href="/finegui/assets/js/240.55b5d1ee.js"><link rel="prefetch" href="/finegui/assets/js/241.8ccd2f12.js"><link rel="prefetch" href="/finegui/assets/js/242.a2e141e0.js"><link rel="prefetch" href="/finegui/assets/js/243.3d08dacc.js"><link rel="prefetch" href="/finegui/assets/js/244.f433246e.js"><link rel="prefetch" href="/finegui/assets/js/245.83d97714.js"><link rel="prefetch" href="/finegui/assets/js/246.9d67e148.js"><link rel="prefetch" href="/finegui/assets/js/247.2b41abd1.js"><link rel="prefetch" href="/finegui/assets/js/248.36c0f879.js"><link rel="prefetch" href="/finegui/assets/js/249.80b96e5e.js"><link rel="prefetch" href="/finegui/assets/js/25.73398518.js"><link rel="prefetch" href="/finegui/assets/js/250.65264763.js"><link rel="prefetch" href="/finegui/assets/js/251.77ed2590.js"><link rel="prefetch" href="/finegui/assets/js/252.418a6bde.js"><link rel="prefetch" href="/finegui/assets/js/253.f7dbcd31.js"><link rel="prefetch" href="/finegui/assets/js/254.bca2fd4e.js"><link rel="prefetch" href="/finegui/assets/js/255.b3a3ef21.js"><link rel="prefetch" href="/finegui/assets/js/26.e723ac80.js"><link rel="prefetch" href="/finegui/assets/js/27.5d038655.js"><link rel="prefetch" href="/finegui/assets/js/28.76bfeb86.js"><link rel="prefetch" href="/finegui/assets/js/29.479a91b9.js"><link rel="prefetch" href="/finegui/assets/js/3.a6ba528a.js"><link rel="prefetch" href="/finegui/assets/js/30.76cc75ab.js"><link rel="prefetch" href="/finegui/assets/js/31.1387d994.js"><link rel="prefetch" href="/finegui/assets/js/32.41970009.js"><link rel="prefetch" href="/finegui/assets/js/33.029871f7.js"><link rel="prefetch" href="/finegui/assets/js/34.968e1bc9.js"><link rel="prefetch" href="/finegui/assets/js/35.c6057a44.js"><link rel="prefetch" href="/finegui/assets/js/36.4e8d6691.js"><link rel="prefetch" href="/finegui/assets/js/37.2638cfe0.js"><link rel="prefetch" href="/finegui/assets/js/38.0890441c.js"><link rel="prefetch" href="/finegui/assets/js/39.14e051c3.js"><link rel="prefetch" href="/finegui/assets/js/4.bbf31126.js"><link rel="prefetch" href="/finegui/assets/js/40.1a2232a2.js"><link rel="prefetch" href="/finegui/assets/js/41.c8c614b4.js"><link rel="prefetch" href="/finegui/assets/js/42.f748fed9.js"><link rel="prefetch" href="/finegui/assets/js/43.7941f9ec.js"><link rel="prefetch" href="/finegui/assets/js/44.f1ab5b0b.js"><link rel="prefetch" href="/finegui/assets/js/45.668807f4.js"><link rel="prefetch" href="/finegui/assets/js/46.5d92e182.js"><link rel="prefetch" href="/finegui/assets/js/47.f16a07e9.js"><link rel="prefetch" href="/finegui/assets/js/48.ea53a291.js"><link rel="prefetch" href="/finegui/assets/js/49.1a6d2d5b.js"><link rel="prefetch" href="/finegui/assets/js/5.5f02c45b.js"><link rel="prefetch" href="/finegui/assets/js/50.1985a838.js"><link rel="prefetch" href="/finegui/assets/js/51.8aba91ec.js"><link rel="prefetch" href="/finegui/assets/js/52.f1d6806d.js"><link rel="prefetch" href="/finegui/assets/js/53.e69b9e15.js"><link rel="prefetch" href="/finegui/assets/js/54.16300f7b.js"><link rel="prefetch" href="/finegui/assets/js/55.f6cb755b.js"><link rel="prefetch" href="/finegui/assets/js/56.5cb81e6c.js"><link rel="prefetch" href="/finegui/assets/js/57.4e2c06b0.js"><link rel="prefetch" href="/finegui/assets/js/58.cf8423d2.js"><link rel="prefetch" href="/finegui/assets/js/59.70b9e961.js"><link rel="prefetch" href="/finegui/assets/js/6.d8d06794.js"><link rel="prefetch" href="/finegui/assets/js/60.43ff5848.js"><link rel="prefetch" href="/finegui/assets/js/61.721d56c2.js"><link rel="prefetch" href="/finegui/assets/js/62.18a0d672.js"><link rel="prefetch" href="/finegui/assets/js/63.d4ef3e62.js"><link rel="prefetch" href="/finegui/assets/js/64.eb1fca09.js"><link rel="prefetch" href="/finegui/assets/js/65.dffa9f52.js"><link rel="prefetch" href="/finegui/assets/js/66.f62dceb4.js"><link rel="prefetch" href="/finegui/assets/js/67.f9540851.js"><link rel="prefetch" href="/finegui/assets/js/68.e9baf36d.js"><link rel="prefetch" href="/finegui/assets/js/69.41d104a4.js"><link rel="prefetch" href="/finegui/assets/js/7.1d25bcd5.js"><link rel="prefetch" href="/finegui/assets/js/70.21f91d38.js"><link rel="prefetch" href="/finegui/assets/js/71.de6c5587.js"><link rel="prefetch" href="/finegui/assets/js/72.c29dd77f.js"><link rel="prefetch" href="/finegui/assets/js/73.8d6cd791.js"><link rel="prefetch" href="/finegui/assets/js/74.e6fd2cbc.js"><link rel="prefetch" href="/finegui/assets/js/75.39aad1d6.js"><link rel="prefetch" href="/finegui/assets/js/76.952ad292.js"><link rel="prefetch" href="/finegui/assets/js/77.d5f55609.js"><link rel="prefetch" href="/finegui/assets/js/78.39fbb271.js"><link rel="prefetch" href="/finegui/assets/js/79.766cfc6b.js"><link rel="prefetch" href="/finegui/assets/js/8.a22a1a07.js"><link rel="prefetch" href="/finegui/assets/js/80.136db699.js"><link rel="prefetch" href="/finegui/assets/js/81.f9b57f9e.js"><link rel="prefetch" href="/finegui/assets/js/82.b9e2e297.js"><link rel="prefetch" href="/finegui/assets/js/83.93eac250.js"><link rel="prefetch" href="/finegui/assets/js/84.60285735.js"><link rel="prefetch" href="/finegui/assets/js/85.c6bc63d2.js"><link rel="prefetch" href="/finegui/assets/js/86.917673b4.js"><link rel="prefetch" href="/finegui/assets/js/87.ea079258.js"><link rel="prefetch" href="/finegui/assets/js/88.89f1a242.js"><link rel="prefetch" href="/finegui/assets/js/89.2fbceea3.js"><link rel="prefetch" href="/finegui/assets/js/9.d262371d.js"><link rel="prefetch" href="/finegui/assets/js/90.b8ad7442.js"><link rel="prefetch" href="/finegui/assets/js/91.5b1a1ed5.js"><link rel="prefetch" href="/finegui/assets/js/92.f6bb24e3.js"><link rel="prefetch" href="/finegui/assets/js/93.f16d1dca.js"><link rel="prefetch" href="/finegui/assets/js/94.47a2fb96.js"><link rel="prefetch" href="/finegui/assets/js/95.240c758f.js"><link rel="prefetch" href="/finegui/assets/js/96.1da01f84.js"><link rel="prefetch" href="/finegui/assets/js/97.9f20a34d.js"><link rel="prefetch" href="/finegui/assets/js/98.4ac0bf8a.js"><link rel="prefetch" href="/finegui/assets/js/99.3e610d92.js">
    <link rel="stylesheet" href="/finegui/assets/css/0.styles.8f9f42bf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/finegui/" class="home-link router-link-active"><!----> <span class="site-name">FineGui</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/finegui/" class="nav-link">Home</a></div><div class="nav-item"><a href="/finegui/INSTALL.html" class="nav-link">Install</a></div><div class="nav-item"><a href="/finegui/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="/finegui/doxygen/modules.html" class="nav-link">Modules</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Classes</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/finegui/doxygen/annotated.html" class="nav-link">Class List</a></li><li class="dropdown-item"><!----> <a href="/finegui/doxygen/classes.html" class="nav-link">Class Index</a></li><li class="dropdown-item"><!----> <a href="/finegui/doxygen/functions.html" class="nav-link">Function Index</a></li><li class="dropdown-item"><!----> <a href="/finegui/doxygen/variables.html" class="nav-link">Variable Index</a></li><li class="dropdown-item"><!----> <a href="/finegui/doxygen/enumerations.html" class="nav-link">Enumeration Index</a></li></ul></div></div><div class="nav-item"><a href="/finegui/doxygen/files.html" class="nav-link">Files</a></div><div class="nav-item"><a href="/finegui/doxygen/pages.html" class="nav-link">Pages</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/finegui/" class="nav-link">Home</a></div><div class="nav-item"><a href="/finegui/INSTALL.html" class="nav-link">Install</a></div><div class="nav-item"><a href="/finegui/examples/" class="nav-link">Examples</a></div><div class="nav-item"><a href="/finegui/doxygen/modules.html" class="nav-link">Modules</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Classes</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/finegui/doxygen/annotated.html" class="nav-link">Class List</a></li><li class="dropdown-item"><!----> <a href="/finegui/doxygen/classes.html" class="nav-link">Class Index</a></li><li class="dropdown-item"><!----> <a href="/finegui/doxygen/functions.html" class="nav-link">Function Index</a></li><li class="dropdown-item"><!----> <a href="/finegui/doxygen/variables.html" class="nav-link">Variable Index</a></li><li class="dropdown-item"><!----> <a href="/finegui/doxygen/enumerations.html" class="nav-link">Enumeration Index</a></li></ul></div></div><div class="nav-item"><a href="/finegui/doxygen/files.html" class="nav-link">Files</a></div><div class="nav-item"><a href="/finegui/doxygen/pages.html" class="nav-link">Pages</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>core.h File Reference</span> <!----></p> <ul class="sidebar-group-items"></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="core-h-file-reference"><a href="#core-h-file-reference" aria-hidden="true" class="header-anchor">#</a> core.h File Reference</h1> <p><strong><a href="/finegui/doxygen/core_8h.html">Go to the documentation of this file.</a></strong>
Source: <code>include/ffw/gui/third\_party/utfcpp/core.h</code></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">// Copyright 2006 Nemanja Trifunovic</span>

<span class="token comment">/*
Permission is hereby granted, free of charge, to any person or organization
obtaining a copy of the software and accompanying documentation covered by
this license (the &quot;Software&quot;) to use, reproduce, display, distribute,
execute, and transmit the Software, and to prepare derivative works of the
Software, and to permit third-parties to whom the Software is furnished to
do so, all subject to the following:

The copyright notices in the Software and this entire statement, including
the above license grant, this restriction and the following disclaimer,
must be included in all copies of the Software, in whole or in part, and
all derivative works of the Software, unless such copies or derivative
works are solely in the form of machine-executable object code generated by
a source language processor.

THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.
*/</span>


<span class="token macro property">#<span class="token directive keyword">ifndef</span> UTF8_FOR_CPP_CORE_H_2675DCD0_9480_4c0c_B92A_CC14C027B731</span>
<span class="token macro property">#<span class="token directive keyword">define</span> UTF8_FOR_CPP_CORE_H_2675DCD0_9480_4c0c_B92A_CC14C027B731</span>

<span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iterator&gt;</span></span>

<span class="token keyword">namespace</span> utf8
<span class="token punctuation">{</span>
    <span class="token comment">// The typedefs for 8-bit, 16-bit and 32-bit unsigned integers</span>
    <span class="token comment">// You may need to change them to match your system.</span>
    <span class="token comment">// These typedefs have the same names as ones from cstdint, or boost/cstdint</span>
    <span class="token keyword">typedef</span> <span class="token keyword">unsigned</span> <span class="token keyword">char</span>   <span class="token keyword">uint8_t</span><span class="token punctuation">;</span>
    <span class="token keyword">typedef</span> <span class="token keyword">unsigned</span> <span class="token keyword">short</span>  <span class="token keyword">uint16_t</span><span class="token punctuation">;</span>
    <span class="token keyword">typedef</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span>    <span class="token keyword">uint32_t</span><span class="token punctuation">;</span>

<span class="token comment">// Helper code - not intended to be directly called by the library users. May be changed at any time</span>
<span class="token keyword">namespace</span> internal
<span class="token punctuation">{</span>
    <span class="token comment">// Unicode constants</span>
    <span class="token comment">// Leading (high) surrogates: 0xd800 - 0xdbff</span>
    <span class="token comment">// Trailing (low) surrogates: 0xdc00 - 0xdfff</span>
    <span class="token keyword">const</span> <span class="token keyword">uint16_t</span> LEAD_SURROGATE_MIN  <span class="token operator">=</span> <span class="token number">0xd800u</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">uint16_t</span> LEAD_SURROGATE_MAX  <span class="token operator">=</span> <span class="token number">0xdbffu</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">uint16_t</span> TRAIL_SURROGATE_MIN <span class="token operator">=</span> <span class="token number">0xdc00u</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">uint16_t</span> TRAIL_SURROGATE_MAX <span class="token operator">=</span> <span class="token number">0xdfffu</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">uint16_t</span> LEAD_OFFSET         <span class="token operator">=</span> LEAD_SURROGATE_MIN <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token number">0x10000</span> <span class="token operator">&gt;&gt;</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token keyword">uint32_t</span> SURROGATE_OFFSET    <span class="token operator">=</span> <span class="token number">0x10000u</span> <span class="token operator">-</span> <span class="token punctuation">(</span>LEAD_SURROGATE_MIN <span class="token operator">&lt;&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">-</span> TRAIL_SURROGATE_MIN<span class="token punctuation">;</span>

    <span class="token comment">// Maximum valid value for a Unicode code point</span>
    <span class="token keyword">const</span> <span class="token keyword">uint32_t</span> CODE_POINT_MAX      <span class="token operator">=</span> <span class="token number">0x0010ffffu</span><span class="token punctuation">;</span>

    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_type<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">uint8_t</span> <span class="token function">mask8</span><span class="token punctuation">(</span>octet_type oc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">uint8_t</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">0xff</span> <span class="token operator">&amp;</span> oc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> u16_type<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">uint16_t</span> <span class="token function">mask16</span><span class="token punctuation">(</span>u16_type oc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">static_cast</span><span class="token operator">&lt;</span><span class="token keyword">uint16_t</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token number">0xffff</span> <span class="token operator">&amp;</span> oc<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_type<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">is_trail</span><span class="token punctuation">(</span>octet_type oc<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span>oc<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0x2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> u16<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">is_lead_surrogate</span><span class="token punctuation">(</span>u16 cp<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>cp <span class="token operator">&gt;=</span> LEAD_SURROGATE_MIN <span class="token operator">&amp;&amp;</span> cp <span class="token operator">&lt;=</span> LEAD_SURROGATE_MAX<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> u16<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">is_trail_surrogate</span><span class="token punctuation">(</span>u16 cp<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>cp <span class="token operator">&gt;=</span> TRAIL_SURROGATE_MIN <span class="token operator">&amp;&amp;</span> cp <span class="token operator">&lt;=</span> TRAIL_SURROGATE_MAX<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> u16<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">is_surrogate</span><span class="token punctuation">(</span>u16 cp<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>cp <span class="token operator">&gt;=</span> LEAD_SURROGATE_MIN <span class="token operator">&amp;&amp;</span> cp <span class="token operator">&lt;=</span> TRAIL_SURROGATE_MAX<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> u32<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">is_code_point_valid</span><span class="token punctuation">(</span>u32 cp<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>cp <span class="token operator">&lt;=</span> CODE_POINT_MAX <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">is_surrogate</span><span class="token punctuation">(</span>cp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">typename</span> std<span class="token operator">::</span>iterator_traits<span class="token operator">&lt;</span>octet_iterator<span class="token operator">&gt;</span><span class="token operator">::</span>difference_type
    <span class="token function">sequence_length</span><span class="token punctuation">(</span>octet_iterator lead_it<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">uint8_t</span> lead <span class="token operator">=</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>lead_it<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>lead <span class="token operator">&lt;</span> <span class="token number">0x80</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>lead <span class="token operator">&gt;&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0x6</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>lead <span class="token operator">&gt;&gt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0xe</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>lead <span class="token operator">&gt;&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0x1e</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token number">4</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_difference_type<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">is_overlong_sequence</span><span class="token punctuation">(</span><span class="token keyword">uint32_t</span> cp<span class="token punctuation">,</span> octet_difference_type length<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cp <span class="token operator">&lt;</span> <span class="token number">0x80</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>length <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> 
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cp <span class="token operator">&lt;</span> <span class="token number">0x800</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>length <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">)</span> 
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cp <span class="token operator">&lt;</span> <span class="token number">0x10000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>length <span class="token operator">!=</span> <span class="token number">3</span><span class="token punctuation">)</span> 
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">enum</span> utf_error <span class="token punctuation">{</span>UTF8_OK<span class="token punctuation">,</span> NOT_ENOUGH_ROOM<span class="token punctuation">,</span> INVALID_LEAD<span class="token punctuation">,</span> INCOMPLETE_SEQUENCE<span class="token punctuation">,</span> OVERLONG_SEQUENCE<span class="token punctuation">,</span> INVALID_CODE_POINT<span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    utf_error <span class="token function">increase_safely</span><span class="token punctuation">(</span>octet_iterator<span class="token operator">&amp;</span> it<span class="token punctuation">,</span> octet_iterator end<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">++</span>it <span class="token operator">==</span> end<span class="token punctuation">)</span>
            <span class="token keyword">return</span> NOT_ENOUGH_ROOM<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">is_trail</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> INCOMPLETE_SEQUENCE<span class="token punctuation">;</span>
        
        <span class="token keyword">return</span> UTF8_OK<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token macro property">#<span class="token directive keyword">define</span> UTF8_CPP_INCREASE_AND_RETURN_ON_ERROR(IT, END) {utf_error ret = increase_safely(IT, END); if (ret != UTF8_OK) return ret;}    </span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    utf_error <span class="token function">get_sequence_1</span><span class="token punctuation">(</span>octet_iterator<span class="token operator">&amp;</span> it<span class="token punctuation">,</span> octet_iterator end<span class="token punctuation">,</span> <span class="token keyword">uint32_t</span><span class="token operator">&amp;</span> code_point<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> end<span class="token punctuation">)</span>
            <span class="token keyword">return</span> NOT_ENOUGH_ROOM<span class="token punctuation">;</span>

        code_point <span class="token operator">=</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> UTF8_OK<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    utf_error <span class="token function">get_sequence_2</span><span class="token punctuation">(</span>octet_iterator<span class="token operator">&amp;</span> it<span class="token punctuation">,</span> octet_iterator end<span class="token punctuation">,</span> <span class="token keyword">uint32_t</span><span class="token operator">&amp;</span> code_point<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> end<span class="token punctuation">)</span> 
            <span class="token keyword">return</span> NOT_ENOUGH_ROOM<span class="token punctuation">;</span>
        
        code_point <span class="token operator">=</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">UTF8_CPP_INCREASE_AND_RETURN_ON_ERROR</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> end<span class="token punctuation">)</span>

        code_point <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>code_point <span class="token operator">&lt;&lt;</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x7ff</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x3f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> UTF8_OK<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    utf_error <span class="token function">get_sequence_3</span><span class="token punctuation">(</span>octet_iterator<span class="token operator">&amp;</span> it<span class="token punctuation">,</span> octet_iterator end<span class="token punctuation">,</span> <span class="token keyword">uint32_t</span><span class="token operator">&amp;</span> code_point<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> end<span class="token punctuation">)</span>
            <span class="token keyword">return</span> NOT_ENOUGH_ROOM<span class="token punctuation">;</span>
            
        code_point <span class="token operator">=</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">UTF8_CPP_INCREASE_AND_RETURN_ON_ERROR</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> end<span class="token punctuation">)</span>

        code_point <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>code_point <span class="token operator">&lt;&lt;</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xffff</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xfff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">UTF8_CPP_INCREASE_AND_RETURN_ON_ERROR</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> end<span class="token punctuation">)</span>

        code_point <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x3f</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> UTF8_OK<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    utf_error <span class="token function">get_sequence_4</span><span class="token punctuation">(</span>octet_iterator<span class="token operator">&amp;</span> it<span class="token punctuation">,</span> octet_iterator end<span class="token punctuation">,</span> <span class="token keyword">uint32_t</span><span class="token operator">&amp;</span> code_point<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> end<span class="token punctuation">)</span>
           <span class="token keyword">return</span> NOT_ENOUGH_ROOM<span class="token punctuation">;</span>

        code_point <span class="token operator">=</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">UTF8_CPP_INCREASE_AND_RETURN_ON_ERROR</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> end<span class="token punctuation">)</span>

        code_point <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>code_point <span class="token operator">&lt;&lt;</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x1fffff</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x3ffff</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">UTF8_CPP_INCREASE_AND_RETURN_ON_ERROR</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> end<span class="token punctuation">)</span>

        code_point <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xfff</span><span class="token punctuation">;</span>

        <span class="token function">UTF8_CPP_INCREASE_AND_RETURN_ON_ERROR</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> end<span class="token punctuation">)</span>

        code_point <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x3f</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> UTF8_OK<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token macro property">#<span class="token directive keyword">undef</span> UTF8_CPP_INCREASE_AND_RETURN_ON_ERROR</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    utf_error <span class="token function">validate_next</span><span class="token punctuation">(</span>octet_iterator<span class="token operator">&amp;</span> it<span class="token punctuation">,</span> octet_iterator end<span class="token punctuation">,</span> <span class="token keyword">uint32_t</span><span class="token operator">&amp;</span> code_point<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> end<span class="token punctuation">)</span>
            <span class="token keyword">return</span> NOT_ENOUGH_ROOM<span class="token punctuation">;</span>

        <span class="token comment">// Save the original value of it so we can go back in case of failure</span>
        <span class="token comment">// Of course, it does not make much sense with i.e. stream iterators</span>
        octet_iterator original_it <span class="token operator">=</span> it<span class="token punctuation">;</span>

        <span class="token keyword">uint32_t</span> cp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// Determine the sequence length based on the lead octet</span>
        <span class="token keyword">typedef</span> <span class="token keyword">typename</span> std<span class="token operator">::</span>iterator_traits<span class="token operator">&lt;</span>octet_iterator<span class="token operator">&gt;</span><span class="token operator">::</span>difference_type octet_difference_type<span class="token punctuation">;</span>
        <span class="token keyword">const</span> octet_difference_type length <span class="token operator">=</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">sequence_length</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Get trail octets and calculate the code point</span>
        utf_error err <span class="token operator">=</span> UTF8_OK<span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> 
                <span class="token keyword">return</span> INVALID_LEAD<span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
                err <span class="token operator">=</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">get_sequence_1</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> end<span class="token punctuation">,</span> cp<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
                err <span class="token operator">=</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">get_sequence_2</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> end<span class="token punctuation">,</span> cp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
                err <span class="token operator">=</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">get_sequence_3</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> end<span class="token punctuation">,</span> cp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token number">4</span><span class="token operator">:</span>
                err <span class="token operator">=</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">get_sequence_4</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> end<span class="token punctuation">,</span> cp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>err <span class="token operator">==</span> UTF8_OK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Decoding succeeded. Now, security checks...</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">is_code_point_valid</span><span class="token punctuation">(</span>cp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">is_overlong_sequence</span><span class="token punctuation">(</span>cp<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">// Passed! Return here.</span>
                    code_point <span class="token operator">=</span> cp<span class="token punctuation">;</span>
                    <span class="token operator">++</span>it<span class="token punctuation">;</span>
                    <span class="token keyword">return</span> UTF8_OK<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">else</span>
                    err <span class="token operator">=</span> OVERLONG_SEQUENCE<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span> 
                err <span class="token operator">=</span> INVALID_CODE_POINT<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// Failure branch - restore the original value of the iterator</span>
        it <span class="token operator">=</span> original_it<span class="token punctuation">;</span>
        <span class="token keyword">return</span> err<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> utf_error <span class="token function">validate_next</span><span class="token punctuation">(</span>octet_iterator<span class="token operator">&amp;</span> it<span class="token punctuation">,</span> octet_iterator end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">uint32_t</span> ignored<span class="token punctuation">;</span>
        <span class="token keyword">return</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">validate_next</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span> end<span class="token punctuation">,</span> ignored<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span> <span class="token comment">// namespace internal</span>


    <span class="token comment">// Byte order mark</span>
    <span class="token keyword">const</span> <span class="token keyword">uint8_t</span> bom<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0xef</span><span class="token punctuation">,</span> <span class="token number">0xbb</span><span class="token punctuation">,</span> <span class="token number">0xbf</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    octet_iterator <span class="token function">find_invalid</span><span class="token punctuation">(</span>octet_iterator start<span class="token punctuation">,</span> octet_iterator end<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        octet_iterator result <span class="token operator">=</span> start<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>result <span class="token operator">!=</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            utf8<span class="token operator">::</span>internal<span class="token operator">::</span>utf_error err_code <span class="token operator">=</span> utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">validate_next</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err_code <span class="token operator">!=</span> internal<span class="token operator">::</span>UTF8_OK<span class="token punctuation">)</span>
                <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">is_valid</span><span class="token punctuation">(</span>octet_iterator start<span class="token punctuation">,</span> octet_iterator end<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>utf8<span class="token operator">::</span><span class="token function">find_invalid</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">)</span> <span class="token operator">==</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">bool</span> starts_with_bom <span class="token punctuation">(</span>octet_iterator it<span class="token punctuation">,</span> octet_iterator end<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span>it <span class="token operator">!=</span> end<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> bom<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span>it <span class="token operator">!=</span> end<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> bom<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span>it <span class="token operator">!=</span> end<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token operator">==</span> bom<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
           <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//Deprecated in release 2.3 </span>
    <span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> octet_iterator<span class="token operator">&gt;</span>
    <span class="token keyword">inline</span> <span class="token keyword">bool</span> is_bom <span class="token punctuation">(</span>octet_iterator it<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token punctuation">(</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> bom<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>
            <span class="token punctuation">(</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> bom<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>
            <span class="token punctuation">(</span>utf8<span class="token operator">::</span>internal<span class="token operator">::</span><span class="token function">mask8</span><span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token operator">==</span> bom<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>
           <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token comment">// namespace utf8</span>

<span class="token macro property">#<span class="token directive keyword">endif</span> </span><span class="token comment">// header guard</span>


</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/finegui/assets/js/app.3e08543b.js" defer></script><script src="/finegui/assets/js/125.bb48e82f.js" defer></script>
  </body>
</html>
